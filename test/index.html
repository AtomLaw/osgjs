<!DOCTYPE html>
<html>
<head>
	<title>QUnit Test Suite</title>
	<link rel="stylesheet" href="qunit/qunit/qunit.css" type="text/css" media="screen">
	<!--<link rel="stylesheet" href="qunit/addons/themes/ninja.css" type="text/css" media="screen">!-->

	<script type="text/javascript" src="qunit/qunit/qunit.js"></script>
	<!--
	<script type="text/javascript" src="qunit/addons/close-enough/qunit-close-enough.js"></script>
	<script type="text/javascript" src="qunit/addons/canvas/qunit-canvas.js"></script>
	!-->


	<script type="text/javascript" src="../build/osg.include.js"></script>
	<script type="text/javascript">

		var pureJStestfiles = [
			'test/mockup.js',
			'test/scene.js',
			'test/box.js',
			"test/osgDB.js",
			"test/osgUtil.js",
			"test/osgGA.js",
			"test/osgViewer.js",
			"test/osg.js",
			"test/osgAnimation.js",
			"test/memorypool.js",
			"test/shadows.js"
		];
		var GLdependanttestfiles = [
			"test/shader.js",
			"test/shaderloader.js"
		];
		var testfiles = pureJStestfiles;
		var userAgent = (window && window.navigator && window.navigator.userAgent) ? window.navigator.userAgent : undefined;
		if (userAgent){
			var hasGLcontext = !userAgent.match(/phantomjs\/(\d+(\.\d+)+)/i);
			// if phantomjs, doesn't run tests needing webgl context.serAgent.match(/phantomjs\/(\d+(\.\d+)+)/i)
			if (hasGLcontext){
				testfiles = testfiles.concat(GLdependanttestfiles);
	    		QUnit.config.autostart = false;
			}
		}
		var startTest = function(){
          var viewer = new osgViewer.Viewer(document.getElementById("3DView"));
          QUnit.start();
		}
	    loadOSGJSON("../", "project.json", startTest, testfiles);
	</script>

</head>
<body>
        <canvas id="3DView" style="border: none;" width="1" height="1"></canvas>
	<h1 id="qunit-header">QUnit Test Suite</h1>
	<h2 id="qunit-banner"></h2>
	<div id="qunit-testrunner-toolbar"></div>
	<h2 id="qunit-userAgent"></h2>
	<ol id="qunit-tests"></ol>

	
</body>
</html>
