<html>

<head>
<style>

  body {
    background: rgb(76,76,76);
    overflow:hidden;
    padding:0;
    margin:0;
    color: white;
  }

  .vignette {
    -moz-box-shadow: inset 0px 0px 88px rgba(0,0,0,.5);
    -webkit-box-shadow: inset 0px 0px 88px rgba(0,0,0,.5);
    box-shadow: inset 0px 0px 88px rgba(0,0,0,.5);
  }

  a:link {text-decoration: none; color: white;}
  a:visited {text-decoration: none; color: white;}
  a:active {text-decoration: none; color: white;}
  a:hover {text-decoration: underline;  color: white;}

  #ViewContainer {
    position: absolute;
  }

  #explanation {
    background: rgba(90, 90, 90, 0.1);
    color: black;
    overflow:auto;
    position: absolute;
    right: 1%;
  }

  #explanation:focus { outline: none; }

  code {
    font-size: 10px;
  }

  input {
  background: rgba(90, 90, 90, 0.5);
  }

  #loading {
  position: absolute;
  left: 10px;
  height: 10px;
  }

/* CSS Tree menu styles */
ol.tree
{
  padding: 0 0 0 0px;
  width: 300px;
}
  li
  {
    position: relative;
    margin-left: -15px;
    list-style: none;
  }
  li.file
  {
    margin-left: -1px !important;
  }
    li.file a
    {
      color: #fff;
      padding-left: 21px;
      text-decoration: none;
      display: block;
    }
    li p
    {
      width: 150px;
    }
  li input[type="range"]
  {
    float: right;
  }
  li span
  {
    display: block;
  }
  li input[type="checkbox"]
  {
    position: absolute;
    left: 0;
    margin-left: 0;
    opacity: 0.0;
    z-index: 2;
    cursor: pointer;
    height: 1em;
    width: 1em;
    top: 0;
  }
    li input + ol
    {
      margin: -0.938em 0 0 -44px; /* 15px */
      height: 1em;
    }
    li input + ol > li { display: none; margin-left: -14px !important; padding-left: 1px; }
  li label
  {
    cursor: pointer;
    display: block;
    color: rgba(255,255,255,0.8);
    background-color: rgba(0,0,0,0.8);
    text-align: center;
  }

  li input:checked + ol
  {
    margin: -1.25em 0 0 -44px; /* 20px */
    padding: 1.563em 0 0 80px;
    height: auto;
  }
    li input:checked + ol > li { display: block; margin: 0 0 0.125em;  /* 2px */}
    li input:checked + ol > li:last-child { margin: 0 0 0.063em; /* 1px */ }

.combobox:hover{
background: -webkit-gradient(linear, 50% 0%, 50% 100%, color-stop(0%, #749619), color-stop(100%, #527f0e));
  background: -webkit-linear-gradient(#749619, #527f0e);
  background: -moz-linear-gradient(#749619, #527f0e);
  background: -o-linear-gradient(#749619, #527f0e);
  background: -ms-linear-gradient(#749619, #527f0e);
  background: linear-gradient(#749619, #527f0e);
  background-color: #659e10;
  border: 1px solid #527f0e;
  -moz-box-shadow: inset 0px 1px 1px rgba(0, 0, 0, 0.2), 0px 1px 0px rgba(0, 0, 0, 0);
  -webkit-box-shadow: inset 0px 1px 1px rgba(0, 0, 0, 0.2), 0px 1px 0px rgba(0, 0, 0, 0);
  -o-box-shadow: inset 0px 1px 1px rgba(0, 0, 0, 0.2), 0px 1px 0px rgba(0, 0, 0, 0);
  box-shadow: inset 0px 1px 1px rgba(0, 0, 0, 0.2), 0px 1px 0px rgba(0, 0, 0, 0);
  text-align: center;
   -webkit-appearance: none;
}
.combobox{
color: white;
  border: 1px solid #5d910b;
  background: -webkit-gradient(linear, 50% 0%, 50% 100%, color-stop(0%, #93bd20), color-stop(100%, #659e10));
  background: -webkit-linear-gradient(#93bd20, #659e10);
  background: -moz-linear-gradient(#93bd20, #659e10);
  background: -o-linear-gradient(#93bd20, #659e10);
  background: -ms-linear-gradient(#93bd20, #659e10);
  background: linear-gradient(#93bd20, #659e10);
  -moz-border-radius: 2px;
  -webkit-border-radius: 2px;
  -o-border-radius: 2px;
  -ms-border-radius: 2px;
  -khtml-border-radius: 2px;
  border-radius: 2px;
  -moz-box-shadow: inset 0px 1px 0px rgba(255, 255, 255, 0.3), 0px 3px 7px rgba(0, 0, 0, 0.7);
  -webkit-box-shadow: inset 0px 1px 0px rgba(255, 255, 255, 0.3), 0px 3px 7px rgba(0, 0, 0, 0.7);
  -o-box-shadow: inset 0px 1px 0px rgba(255, 255, 255, 0.3), 0px 3px 7px rgba(0, 0, 0, 0.7);
  box-shadow: inset 0px 1px 0px rgba(255, 255, 255, 0.3), 0px 3px 7px rgba(0, 0, 0, 0.7);
  background-color: #93bd20;
  padding: 10px 12px;
  margin-top: 6px;
  line-height: 14px;
  font-size: 14px;
  display: inline-block;
  text-align: center;
   -webkit-appearance: none;
}

</style>

<title>Scene Setup</title>
<meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">

<script type="text/javascript" src="../../build/osg.include.js"></script>

<script type="text/javascript" src="main.js"></script>

</head>

<body>

  <div id="ViewContainer">
  <canvas id="3DView"></canvas>
  </div>


  <div class="question" id="explanation" tabIndex="0" >
      <h1> Lights&Shadows</h1>
      <ol>
          <li>
              <label for="subfolder0">Explanations</label>
              <input type="checkbox" id="subfolder0" class="folder_"/>
              <ol>
                  <li class="file">
                    <p>
                      Shadow is renderedfrom the light point of view in a texture once per frame and each item receiving shadow get the texture projected on.
                    </p>
                  </li>
              </ol>
          </li>
          <li>
              <label for="subfolder1">Model</label>
              <input type="checkbox" id="subfolder1" class="folder_"/>
              <ol>
                  <li class="file">
                <select class="combobox" id="model" name="model" onChange="paramChange(this.options[this.selectedIndex].value, 'model');"  >
                       <option>raceship</option>
                       <option>monkey</option>
                       <option>ogre</option>
                       <option>pokerscene</option>
                       <option>sponza</option>
                </select></li>
              </ol>
          </li>

          <li>
              <label for="subfolder2">Fog</label>
              <input type="checkbox" id="subfolder2" class="folder_"/>
              <ol>
                  <li class="file">
                    <div id="fogparameters">
                    </div>
                  </li>
              </ol>
          </li>

          <li>
              <label for="subfolder3">Ground</label>
              <input type="checkbox" id="subfolder3" class="folder_"/>
              <ol>
                  <li class="file">
                    <div id="groundparameters">
                    </div>
                  </li>
              </ol>
          </li>

          <li>
              <label for="subfolder90">Light</label>
              <input type="checkbox" id="subfolder90" class="folder_"/>
              <ol>
                  <li class="file">
                    <span>Num Lights Enabled: </span><input id="lightnum" type="range" min="0" max="3" value="1" step="1" onMouseUp="paramChange(this.value,'lightnum');"/>
                    <br />
                    <span>Light Selected: </span><input id="lightselect" type="range" min="0" max="2" value="0" step="1" onMouseUp="this.previousSibling.innerHTML = this.previousSibling.innerHTML.split(':')[0] + ': ' + this.value;paramChange(this.value,'lightselect', true, true);"/>
                    <br />
                     Light Only:<select  class="combobox" id="lightonly" name="lightonly" onChange="paramChange(this.options[this.selectedIndex].value,'lightonly',true);"  >
                       <option>0</option>
                       <option>1</option>
                    </select>
                    <br />
                     Light Rotate:<select  class="combobox"  id="lightrotate" name="lightrotate" onChange="paramChange(this.options[this.selectedIndex].value,'lightrotate',true);"  >
                       <option>0</option>
                       <option>1</option>
                    </select>
                    <br />
<!--
                      <span>enabled : </span><input id="enabled" type="range" min="0" max="1" value="1" step="1"  onchange="this.previousSibling.innerHTML = this.previousSibling.innerHTML.split(':')[0] + ': ' + this.value;paramChange(this.value, this.id);"/>
                      <br/>
!-->
                    <!--this._direction = [ 0.0, 0.0, -1.0 ]!-->
                      
                      <span>spotCutoff : </span><input id="_spotCutoff" type="range" min="-180" max="180" value="30" step="5"  onchange="this.previousSibling.innerHTML = this.previousSibling.innerHTML.split(':')[0] + ': ' + this.value;paramChange(this.value, this.id, true, true);"/>
                      <br/>
                      <span>spotBlend : </span><input id="_spotBlend" type="range" min="0" max="1" value="0.01" step="0.01"  onchange="this.previousSibling.innerHTML = this.previousSibling.innerHTML.split(':')[0] + ': ' + this.value;paramChange(this.value, this.id, true, true);"/>
                      <br/>
                      <span>constantAttenuation : </span><input id="_constantAttenuation" type="range" min="0" max="5" value="0.1" step="0.01"  onchange="this.previousSibling.innerHTML = this.previousSibling.innerHTML.split(':')[0] + ': ' + this.value;paramChange(this.value, this.id, true, true);"/>
                      <br/>
                      <span>linearAttenuation : </span><input id="_linearAttenuation" type="range" min="0" max="5" value="0" step="0.1"  onchange="this.previousSibling.innerHTML = this.previousSibling.innerHTML.split(':')[0] + ': ' + this.value;paramChange(this.value, this.id, true, true);"/>
                      <br/>
                      <span>quadraticAttenuation : </span><input id="_quadraticAttenuation" type="range" min="0" max="5" value="0" step="0.1"  onchange="this.previousSibling.innerHTML = this.previousSibling.innerHTML.split(':')[0] + ': ' + this.value;paramChange(this.value, this.id, true, true);"/>
                      <br/>
                  </li>
              </ol>
          </li>

          <li>
              <label for="subfolder4">Shadow</label>
              <input type="checkbox" id="subfolder4" class="folder_"/>
              <ol>
                  <li class="file">
                     <select  class="combobox" id="shadow" class="combobox" name="shadow" onChange="paramChange(this.options[this.selectedIndex].value,'shadow');"  >
                       <option>Shadow Map</option>
                       <option>Shadow Map Percentage Close Filtering (PCF)</option>
                       <option>Exponential Shadow Map (ESM)</option>
                       <option>Variance Shadow Map (VSM)</option>
                        <option>Exponential Variance Shadow Map (EVSM)</option>
                    </select>

                     <select  class="combobox" id="textureformat" name="textureformat" onChange="paramChange(this.options[this.selectedIndex].value,'textureformat');"  >
                       <option>Autodetect</option>
                       <option>Force8bits</option>
                       <option>ForceFloat</option>
                    </select>
                     <select  class="combobox" id="texturesize" name="texturesize" onChange="paramChange(this.options[this.selectedIndex].value,'texturesize');"  >
                       <option>64</option>
                       <option>128</option>
                       <option>256</option>
                       <option>512</option>
                       <option>1024</option>
                       <option>2048</option>
                       <option>4096</option>
                       <option>8192</option>
                    </select>
                    <select class="combobox"  id="shadowstable" name="shadowstable" onChange="paramChange(this.options[this.selectedIndex].value,'shadowstable');"  >
                       <option>Light Position</option>
                       <option>World Position</option>
                    </select>

                    <br />
                    <select  class="combobox" id="shadowproj" name="shadowproj" onChange="paramChange(this.options[this.selectedIndex].value,'shadowproj', true);"  >
                       <option>fov</option>
                       <option>orthographic</option>
                    </select>
                      <span>light fov : </span><input id="fov" type="range" min="0" max="180" value="30" step="5"  onchange="this.previousSibling.innerHTML = this.previousSibling.innerHTML.split(':')[0] + ': ' + this.value;paramChange(this.value, this.id, true);"/>

                    <br />

                      <span>Bias (all): </span><input id="bias" type="range" min="0" max="0.1" value="0.001" step="0.001"  onchange="this.previousSibling.innerHTML = this.previousSibling.innerHTML.split(':')[0] + ': ' + this.value;paramChange(this.value,this.id, true);"/>
                    <br />
                       <span>VsmEspilon (vsm/evsm):  </span><input id="VsmEpsilon" type="range" min="0" max="0.1" value="0.001" step="0.001"  onchange="this.previousSibling.innerHTML = this.previousSibling.innerHTML.split(':')[0] + ': ' + this.value;paramChange(this.value,this.id, true);"/>
                    <br />
                      <span>Exponent0 (esm/evsm): </span><input id="exponent" type="range" min="0" max="100" value="40" step="5"  onchange="this.previousSibling.innerHTML = this.previousSibling.innerHTML.split(':')[0] + ': ' + this.value;paramChange(this.value, this.id, true);"/>
                    <br />
                      <span>Exponent1 (evsm): </span><input id="exponent1" type="range" min="0" max="100" value="40" step="5"  onchange="this.previousSibling.innerHTML = this.previousSibling.innerHTML.split(':')[0] + ': ' + this.value;paramChange(this.value, this.id, true);"/>
                    <br />
                    <span >Blur (0 == disabled): </span><input id="blur" type="range" min="0" max="16" value="1.0" step="1.0" onchange="this.previousSibling.innerHTML = this.previousSibling.innerHTML.split(':')[0] + ': ' + this.value;" onMouseUp="paramChange(this.value,'blur');"/>
                    <br />
                      <span>Msaa (tex * 1/msaa => finalTexSize): </span><input id="msaa" type="range" min="0" max="8" value="1" step="1" onchange="this.previousSibling.innerHTML = this.previousSibling.innerHTML.split(':')[0] + ': ' + this.value;" onMouseUp="paramChange(this.value,this.id);" />
                    <br />

                  </li>
              </ol>
          </li>

          <li>
              <label for="subfolder5">Post-processing: depth of field</label>
              <input type="checkbox" id="subfolder5" class="folder_"/>
              <ol>
                  <li class="file">
                    <div id="dofparameters">
                    </div>
                  </li>
              </ol>
          </li>

          <li>
              <label for="subfolder6">debug</label>
              <input type="checkbox" id="subfolder6" class="folder_"/>
              <ol>
                  <li class="file">

                      <select class="combobox" id="debug" name="debug" onChange="paramChange(this.options[this.selectedIndex].value,'debug');"  >
                           <option>vanilla</option>
                           <option>stats</option>
                           <option>debug</option>
                           <option>debug+stats</option>
                           <option>debug+DebugPromise</option>
                           <option>debug+stats+DebugPromise</option>
                      </select>
                  </li>
              </ol>
          </li>
      </ol> 

      <div  style="float:right; font-style:italic;">made with <a href="http://osgjs.org">OSGJS</a></div>
      <div class="combobox"  onMouseUp="paramChange('','')">Refresh</div>

  </div>
</body>
</html>
